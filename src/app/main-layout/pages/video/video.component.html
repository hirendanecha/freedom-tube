<div class="video-block-right-list section-padding">
  <div class="row mb-4">
    <div class="col-md-8">
      <div class="single-video">
        <!-- <div [id]="'video-' + videoDetails?.id" class="w-100 c-height"></div> -->
        <!-- autoplay="autoplay" -->
        <video
          id="playerVideo"
          class="w-100"
          controls
          src="{{ videoDetails?.streamname }}"
        ></video>
      </div>
      <div class="video-block section-padding">
        <div class="single-video-left">
          <div class="single-video-title box mb-3">
            <h2>
              <a>{{ videoDetails?.albumname }}</a>
            </h2>
            <p class="mb-0">
              <fa-icon [icon]="['fas', 'eye']" [fixedWidth]="true" />
              {{ videoDetails?.viewcount }} views
            </p>
          </div>
          <div class="single-video-author box mb-3" *ngIf="channelDetails">
            <img
              class="img-fluid"
              [src]="channelDetails?.profile_pic_name"
              onerror="this.onerror=null;this.src='/assets/img/placeholder-user.png';"
              alt=""
            />
            <p>
              <a
                ><strong>{{ channelDetails.firstname }}</strong></a
              >
              <span
                title=""
                data-placement="top"
                data-toggle="tooltip"
                data-original-title="Verified"
                ><fa-icon [icon]="['fas', 'check-circle']" [fixedWidth]="true"
              /></span>
            </p>
            <small
              >Published on
              {{ channelDetails?.created | date : "MMM dd,yyyy" }}</small
            >
          </div>
          <div class="single-video-info-content box mb-3">
            <!-- <h6>Cast:</h6>
            <p>Nathan Drake , Victor Sullivan , Sam Drake , Elena Fisher</p>
            <h6>Category :</h6>
            <p>Gaming , PS4 Exclusive , Gameplay , 1080p</p> -->
            <h6>About :</h6>
            <p [innerHTML]="videoDetails?.postdescription"></p>
          </div>

          <!-- Comments Section -->
          <div class="box mb-3 single-video-comment-tabs">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item">
                <a
                  class="nav-link active"
                  id="retro-comments-tab"
                  (click)="viewComments(videoDetails.id)"
                  >vidoe Comments</a
                >
              </li>
            </ul>
            <div class="tab-content">
              <div
                class="tab-pane fade show active"
                id="retro-comments"
                role="tabpanel"
                aria-labelledby="retro-comments-tab"
              >
                <div class="reviews-members pt-0">
                  <div class="media">
                    <a
                      ><img
                        class="me-3"
                        [src]="authService?.userDetails?.ProfilePicName"
                        onerror="this.onerror=null;this.src='/assets/dummy/11.jpg';"
                        alt="icon"
                    /></a>

                    <div class="media-body gap-2 align-items-center">
                      <ng-container *ngIf="isParent && commentData?.imageUrl">
                        <div class="position-relative w-52-px h-52-px mb-2">
                          <img
                            loading="lazy"
                            data-src=""
                            class="w-100 h-100 rounded-4"
                            data-src="{{ commentData?.imageUrl }}"
                            onerror="this.onerror=null;this.src='/assets/dummy/11.jpg';"
                            alt="icon"
                          />
                          <fa-icon
                            [icon]="['fas', 'xmark']"
                            class="position-absolute top-0 start-100 translate-middle badge bg-danger p-1 font-12-px c-pointer text-white"
                            (click)="removePostSelectedFile()"
                          />
                        </div>
                      </ng-container>
                      <div
                        class="d-flex align-items-center form-control form-members-body"
                      >
                        <div
                          #parentPostCommentElement
                          contenteditable
                          placeholder="Add a comment..."
                          class="w-100 comment-input c-text"
                        ></div>
                        <!-- <label class="file">
                          <input
                            type="file"
                            class="d-none"
                            accept="image/*"
                            #uploadVideo
                            (change)="onPostFileSelect($event, 'parent')"
                          />
                          <span
                            class="file-custom border-0 d-grid text-center"
                            role="button"
                          >
                            <fa-icon
                              [icon]="['fas', 'image']"
                              class="font-20-px text-primary"
                            />
                          </span>
                        </label> -->
                        <span
                          class="file-input mx-2 mx-sm-3 gap-1 gap-md-2 cursor"
                        >
                          <fa-icon
                            [icon]="['fas', 'paper-plane']"
                            class="font-20-px text-primary"
                            role="button"
                            (click)="
                              commentOnPost(
                                parentPostCommentElement,
                                videoDetails.id
                              )
                            "
                          />
                        </span>
                      </div>
                      <div class="form-members-footer mt-2">
                        <!-- <b class="float-left">12,725 Comments</b> -->
                      </div>
                    </div>
                  </div>
                </div>

                <!-- usercomments -->
                <ng-container *ngFor="let comment of commentList">
                  <div class="reviews-members">
                    <ng-container *ngIf="profileId === comment.profileId">
                      <div class="float-end">
                        <div ngbDropdown>
                          <fa-icon
                            [icon]="['fas', 'ellipsis']"
                            class="font-20-px m-0"
                            role="button"
                            ngbDropdownToggle
                          />

                          <div ngbDropdownMenu class="dropdown-menu">
                            <button ngbDropdownItem>
                              <a
                                class="droplist d-flex align-items-center gap-2"
                                (click)="editComment(comment)"
                              >
                                <fa-icon [icon]="['fas', 'pen-to-square']" />
                                <span>Edit</span>
                              </a>
                            </button>
                            <button ngbDropdownItem>
                              <a
                                class="droplist d-flex align-items-center gap-2"
                                (click)="deleteComments(comment.id)"
                              >
                                <fa-icon [icon]="['fas', 'trash-can']" />
                                <span>Delete</span>
                              </a>
                            </button>
                          </div>
                        </div>
                      </div>
                    </ng-container>
                    <div class="media">
                      <a
                        ><img
                          class="me-3"
                          data-src="{{ comment?.ProfilePicName }}"
                          onerror="this.onerror=null;this.src='/assets/images/avtar/placeholder-user.png';"
                          alt="icon"
                      /></a>
                      <div class="media-body">
                        <div class="reviews-members-header">
                          <h6 class="mb-1">
                            <a class="text-black">{{ comment.Username }} </a>
                            <!-- <small class="text-gray">2 months ago</small> -->
                          </h6>
                        </div>
                        <ng-container *ngIf="comment?.comment">
                          <p
                            class="reviews-members-body"
                            [innerHTML]="comment?.comment"
                          ></p>
                        </ng-container>
                        <div
                          class="reviews-members-footer d-flex align-items-center"
                        >
                          <a
                            class="total-like me-2 cursor"
                            (click)="
                              comment.react == 'L'
                                ? disLikeComments(comment)
                                : likeComments(comment)
                            "
                            ><fa-icon
                              [icon]="['fas', 'thumbs-up']"
                              [fixedWidth]="true"
                            />
                            {{
                              comment?.likeCount > 0 ? comment?.likeCount : 0
                            }}Likes
                          </a>
                          <a
                            class="total-like cursor"
                            (click)="showReplySection(comment.id)"
                            ><fa-icon
                              [icon]="['fas', 'message']"
                              [fixedWidth]="true"
                              type="button"
                            />
                            Reply</a
                          >
                          <a
                            *ngIf="comment.replyCommnetsList.length"
                            class="ms-3 cursor"
                            (click)="showReplyedComments(comment?.id)"
                            >See reply
                          </a>
                        </div>
                        <!-- replay comment -->
                        <ng-container
                          *ngIf="
                            isReply &&
                            videoDetails.id === comment.postId &&
                            commentId === comment.id
                          "
                        >
                          <div
                            class="media-body ps-5 gap-2 align-items-center pt-4"
                          >
                            <div
                              class="d-flex align-items-center form-control form-members-body"
                            >
                              <div
                                #childPostCommentElement
                                contenteditable
                                placeholder="Add a comment..."
                                class="w-100 comment-input c-text"
                              ></div>
                              <span
                                class="file-input mx-2 mx-sm-3 gap-1 gap-md-2 cursor"
                              >
                                <fa-icon
                                  [icon]="['fas', 'paper-plane']"
                                  class="font-20-px text-primary"
                                  role="button"
                                  (click)="
                                    commentOnPost(
                                      childPostCommentElement,
                                      videoDetails.id,
                                      comment.id
                                    )
                                  "
                                />
                              </span>
                            </div>
                            <div class="form-members-footer mt-2"></div>
                          </div>
                        </ng-container>
                        <!-- sub comments -->
                        <ng-container
                          *ngIf="isReplyComments && commentId === comment.id"
                        >
                          <ng-container
                            *ngFor="let reply of comment?.replyCommnetsList"
                          >
                            <div class="ms-5">
                              <div class="d-flex mx-sm-5 mt-2 mt-sm-4 top-area">
                                <a
                                  ><img
                                    class="me-3"
                                    data-src="{{ reply?.ProfilePicName }}"
                                    onerror="this.onerror=null;this.src='/assets/images/avtar/placeholder-user.png';"
                                    alt="icon"
                                /></a>
                                <div class="media-body">
                                  <ng-container
                                    *ngIf="profileId === reply.profileId"
                                  >
                                    <div class="float-end">
                                      <div ngbDropdown>
                                        <fa-icon
                                          [icon]="['fas', 'ellipsis']"
                                          class="font-20-px m-0"
                                          role="button"
                                          ngbDropdownToggle
                                        />

                                        <div
                                          ngbDropdownMenu
                                          class="dropdown-menu"
                                        >
                                          <button ngbDropdownItem>
                                            <a
                                              class="droplist d-flex align-items-center gap-2"
                                              (click)="editComment(reply)"
                                            >
                                              <fa-icon
                                                [icon]="[
                                                  'fas',
                                                  'pen-to-square'
                                                ]"
                                              />
                                              <span>Edit</span>
                                            </a>
                                          </button>
                                          <button ngbDropdownItem>
                                            <a
                                              class="droplist d-flex align-items-center gap-2"
                                              (click)="deleteComments(reply.id)"
                                            >
                                              <fa-icon
                                                [icon]="['fas', 'trash-can']"
                                              />
                                              <span>Delete</span>
                                            </a>
                                          </button>
                                        </div>
                                      </div>
                                    </div>
                                  </ng-container>
                                  <div class="reviews-members-header">
                                    <h6 class="mb-1">
                                      <a class="text-black"
                                        >{{ reply.Username }}
                                      </a>
                                      <!-- <small class="text-gray">2 months ago</small> -->
                                    </h6>
                                  </div>
                                  <ng-container *ngIf="reply?.comment">
                                    <p
                                      class="reviews-members-body"
                                      [innerHTML]="reply?.comment"
                                    ></p>
                                  </ng-container>
                                  <div class="reviews-members-footer">
                                    <!-- <a class="total-like" -->
                                    <a
                                      class="text-primary cursor"
                                      (click)="
                                        reply.react == 'L'
                                          ? disLikeComments(reply)
                                          : likeComments(reply)
                                      "
                                      ><fa-icon
                                        [icon]="['fas', 'thumbs-up']"
                                        [fixedWidth]="true"
                                      />
                                      {{
                                        reply?.likeCount > 0
                                          ? reply?.likeCount
                                          : 0
                                      }}Likes
                                    </a>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </ng-container>
                        </ng-container>
                      </div>
                    </div>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="video-slider-right-list">
        <app-video-slider-list [videoList]="videoList" />
      </div>
    </div>
  </div>
</div>
<!-- <div class="video-block section-padding">
  <div class="row">
    <div class="col-md-8"></div>
  </div>
</div> -->
